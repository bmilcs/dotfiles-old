#!/bin/sh
#  ▄▄▄▄· • ▌ ▄ ·. ▪  ▄▄▌   ▄▄· .▄▄ ·   ──────────────────────
#  ▐█ ▀█▪·██ ▐███▪██ ██•  ▐█ ▌▪▐█ ▀.   ╔╦╗╔═╗╔╦╗╔═╗╦╦  ╔═╗╔═╗
#  ▐█▀▀█▄▐█ ▌▐▌▐█·▐█·██ ▪ ██ ▄▄▄▀▀▀█▄   ║║║ ║ ║ ╠╣ ║║  ║╣ ╚═╗
#  ██▄▪▐███ ██▌▐█▌▐█▌▐█▌ ▄▐███▌▐█▄▪▐█  ═╩╝╚═╝ ╩ ╚  ╩╩═╝╚═╝╚═╝
#  ·▀▀▀▀ ▀▀  █▪▀▀▀▀▀▀.▀▀▀ ·▀▀▀  ▀▀▀▀   https://dot.bmilcs.com
#────────────────────────────────────────────────────────────
#   text-file logo-ifier
#────────────────────────────────────────────────────────────

source _head

if [[ $# == 0 ]]; then

  x=$(($(tput lines)/2-4))
  y=$((($(tput cols)-60)/2))
  for i in $(seq 0 $y); do
    pre=$pre" " 
  done
  for i in $(seq 0 $x); do
    echo 
  done

  echo -e "${BLK}${BLU}$pre  ▄▄▄▄· • ▌ ▄ ·. ▪  ▄▄▌   ▄▄· .▄▄ ·   ──────────────────────"
  echo -e "${BLK}${BLU}$pre  ▐█ ▀█▪·██ ▐███▪██ ██•  ▐█ ▌▪▐█ ▀.   ╔╦╗╔═╗╔╦╗╔═╗╦╦  ╔═╗╔═╗"
  echo -e "${BLK}${BLU}$pre  ▐█▀▀█▄▐█ ▌▐▌▐█·▐█·██ ▪ ██ ▄▄▄▀▀▀█▄   ║║║ ║ ║ ╠╣ ║║  ║╣ ╚═╗"
  echo -e "${BLK}${BLU}$pre  ██▄▪▐███ ██▌▐█▌▐█▌▐█▌ ▄▐███▌▐█▄▪▐█  ═╩╝╚═╝ ╩ ╚  ╩╩═╝╚═╝╚═╝"
  echo -e "${BLK}${BLU}$pre  ·▀▀▀▀ ▀▀  █▪▀▀▀▀▀▀.▀▀▀ ·▀▀▀  ▀▀▀▀   https://dot.bmilcs.com"
  echo -e "${BLK}${BLU}$pre ───────────────────────────────────────────────────────────"
  echo -e "${BLK}${BLU}$pre   bmilcs@yahoo.com | discord: bmilcs#6039 | est 12/2020    "
  echo -e "${BLK}${BLU}$pre ───────────────────────────────────────────────────────────"

  for i in $(seq 3 $x); do
    echo 
  done

elif [[ ! -f $1 ]]; then

  _e "\"$1\" doesn't exist"
  exit 1

else
  if [[ $# == 1 ]]; then 
    _q please enter a title: 
    read title
  else
    title=$2
  fi
  _a executable pre-check
  [[ -x $1 ]] && (rechmod=1 && _w executable file)
  [[ $(head -1 $1) == "#!"* ]] && (rebinbash=1 && firstline=$(head -1 $1) && sed -i -e 1,1d $1)

  if [[ $(basename $1) == *".vim" ]] || [[ $(basename $1) == *".vim"* ]] ; then
    CM='"'
  else
    CM="#"
  fi

  echo "$CM────────────────────────────────────────────────────────────" | cat - $1 > logotemp && mv logotemp $1
  echo "$CM   $title              " | cat - $1 > logotemp && mv logotemp $1 
  echo "$CM────────────────────────────────────────────────────────────" | cat - $1 > logotemp && mv logotemp $1 
  echo "$CM  ·▀▀▀▀ ▀▀  █▪▀▀▀▀▀▀.▀▀▀ ·▀▀▀  ▀▀▀▀   https://dot.bmilcs.com"  | cat - $1 > logotemp && mv logotemp $1
  echo "$CM  ██▄▪▐███ ██▌▐█▌▐█▌▐█▌ ▄▐███▌▐█▄▪▐█  ═╩╝╚═╝ ╩ ╚  ╩╩═╝╚═╝╚═╝" | cat - $1 > logotemp && mv logotemp $1 
  echo "$CM  ▐█▀▀█▄▐█ ▌▐▌▐█·▐█·██ ▪ ██ ▄▄▄▀▀▀█▄   ║║║ ║ ║ ╠╣ ║║  ║╣ ╚═╗" | cat - $1 > logotemp && mv logotemp $1 
  echo "$CM  ▐█ ▀█▪·██ ▐███▪██ ██•  ▐█ ▌▪▐█ ▀.   ╔╦╗╔═╗╔╦╗╔═╗╦╦  ╔═╗╔═╗" | cat - $1 > logotemp && mv logotemp $1 
  echo "$CM  ▄▄▄▄· • ▌ ▄ ·. ▪  ▄▄▌   ▄▄· .▄▄ ·   ──────────────────────"  | cat - $1 > logotemp && mv logotemp $1 

  [[ rebinbash -eq 1 ]] && echo $firstline | cat - $1 > logotemp && mv logotemp $1 
  [[ rechmod -eq 1 ]] && chmod +x $1 && _a fixed chmod
  [[ -f logotemp ]] && rm logotemp
fi
