#!/usr/bin/env bash
#  ▄▄▄▄· • ▌ ▄ ·. ▪  ▄▄▌   ▄▄· .▄▄ ·   ──────────────────────
#  ▐█ ▀█▪·██ ▐███▪██ ██•  ▐█ ▌▪▐█ ▀.   ╔╦╗╔═╗╔╦╗╔═╗╦╦  ╔═╗╔═╗
#  ▐█▀▀█▄▐█ ▌▐▌▐█·▐█·██ ▪ ██ ▄▄▄▀▀▀█▄   ║║║ ║ ║ ╠╣ ║║  ║╣ ╚═╗
#  ██▄▪▐███ ██▌▐█▌▐█▌▐█▌ ▄▐███▌▐█▄▪▐█  ═╩╝╚═╝ ╩ ╚  ╩╩═╝╚═╝╚═╝
#  ·▀▀▀▀ ▀▀  █▪▀▀▀▀▀▀.▀▀▀ ·▀▀▀  ▀▀▀▀   https://dot.bmilcs.com
#                 MAKE BIN FILE [./mbin]
#────────────────────────────────────────────────────────────
source _head
_t mbin script creator

if [[ -z $# ]]; then
  _e filename argument missing
  exit 1
elif [[ -f $1 ]]; then
  _e "$1" already exists!
  exit 1
fi

touch "$1"
logo "$1"

echo -e "\
source _head\n\
_t  \n\
#────────────────────────────────────────────────────────────\n\
#\n\
#────────────────────────────────────────────────────────────\n\n\n" >> "$1"

# echo -e "#────────────────────────────────────────────────────────────" >> "$1"
# echo -e "# " >> "$1"
# echo -e "#────────────────────────────────────────────────────────────" >> "$1"

sed -i '1s/^/\#\!\/usr\/bin\/env bash\n/' "$1"
chmod +x "$1"
nvim "$1"
