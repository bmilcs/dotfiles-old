#!/bin/bash

up=0

cmd=$1
[[ ! $2 == "" ]] && up=1

# upscreen() {
# 
# }

maimsel() {
  #f=/all/bm/images/screenshots/$(date +%Y-%m-%d%H-%m-%s).png
  f=~/img/$(date +%Y-%m-%d%H-%m-%s).png
  maim -s "$f" 
  [[ $up == 1 ]] && upl "$f" || xclip -sel clip -t image/png "$f"
}

maimwin() {
  #f=/all/bm/images/screenshots/$(date +%Y-%m-%d%H-%m-%s).png
  f=~/img/$(date +%Y-%m-%d%H-%m-%s).png
  maim -i $(xdotool getactivewindow) "$f" 
  [[ $up == 1 ]] && upl "$f" || xclip -sel clip -t image/png "$f"
}

maimall() {
  #f=/all/bm/images/screenshots/$(date +%Y-%m-%d%H-%m-%s).png
  f=~/img/$(date +%Y-%m-%d%H-%m-%s).png
  maim "$f" 
  [[ $up == 1 ]] && upl "$f" || xclip -sel clip -t image/png "$f"
}

[ $1 == all ] && maimall
[ $1 == win ] && maimwin
[ $1 == sel ] && maimsel

exit 0
