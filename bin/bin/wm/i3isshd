#!/usr/bin/env bash
#  ▄▄▄▄· • ▌ ▄ ·. ▪  ▄▄▌   ▄▄· .▄▄ ·   ──────────────────────
#  ▐█ ▀█▪·██ ▐███▪██ ██•  ▐█ ▌▪▐█ ▀.   ╔╦╗╔═╗╔╦╗╔═╗╦╦  ╔═╗╔═╗
#  ▐█▀▀█▄▐█ ▌▐▌▐█·▐█·██ ▪ ██ ▄▄▄▀▀▀█▄   ║║║ ║ ║ ╠╣ ║║  ║╣ ╚═╗
#  ██▄▪▐███ ██▌▐█▌▐█▌▐█▌ ▄▐███▌▐█▄▪▐█  ═╩╝╚═╝ ╩ ╚  ╩╩═╝╚═╝╚═╝
#  ·▀▀▀▀ ▀▀  █▪▀▀▀▀▀▀.▀▀▀ ·▀▀▀  ▀▀▀▀   https://dot.bmilcs.com
#                 SSHD_CONFIG MOD [./i3isshd]
#────────────────────────────────────────────────────────────
source _bm
_a i3 sshd config setup

cmd="
sed -i -e '/^#\?PermitRootLogin/c\PermitRootLogin yes
/^#\?PubkeyAuthentication/c\PubkeyAuthentication yes
/^#\?PasswordAuthentication/c\PasswordAuthentication yes
/^#\?AuthorizedKeysFile/c\AuthorizedKeysFile %h/.ssh/authorized_keys
' /etc/ssh/sshd_config
"

echo "$cmd" | xclip -sel clip
sleep 0.2
xdotool type --clearmodifiers --delay 0.2 -- "$(xclip -sel clip -o)"
